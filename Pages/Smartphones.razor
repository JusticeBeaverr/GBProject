@using GadgetBlitzPZ.Models.Smartphone
@using GadgetBlitzPZ.Pages.Templates
@using System.Linq
@using Blazorise.Bootstrap
@using Blazorise.Icons.FontAwesome
@page "/smartphones"

<PageTitle>Smartphones</PageTitle>

<Style></Style>

<div class="container-fluid mt-4 mb-4">
	<div class="row">
		<div class="col-md-2">
			<SideBar></SideBar>
		</div>
		<div class="col-md-8">
			<!-- Lista ze smartfonami -->
			<div class="row">
				@foreach (var smartphone in Model)
				{
					<div class="col-md-4 mb-4">
						<div class="card custom-shadow">
							<div class="card-body d-flex flex-column justify-content-between h-100">
								<div class="d-flex align-items-center">
									<div class="mr-3">
										<img src="@smartphone.Img" alt="Smartphone Image" style="width: 120px; height: 200px; border-radius: 3%;" />
									</div>
									<div class="card-body">
										<h5 class="card-title">@smartphone.Name</h5>
										<p class="card-text small">
											<strong>Size:</strong> @smartphone.Size<br />
											<strong>CPU:</strong> @smartphone.Cpu<br />
											<strong>System:</strong> @smartphone.System<br />
											<strong>Storage:</strong> @smartphone.Storage<br />
											<strong>Price:</strong> @smartphone.Price.ToString("C", new System.Globalization.CultureInfo("en-US"))
										</p>
									</div>
								</div>
							</div>
							<div class="card-footer">
								<div class="row align-items-center">
									<div class="col-md-6">
										<div class="form-check d-flex align-items-center">
											<input class="form-check-input custom-checkbox mr-5" type="checkbox" id="compareCheckbox_@smartphone.Id" value="compare">
											<label class="form-check-label font-weight-bold ml-2" for="compareCheckbox_@smartphone.Id">
												Dodaj do porównania
											</label>
										</div>

									</div>
									<div class="col-md-6 text-md-right">
										<button class="btn btn-secondary btn-sm btn-lg mb-1" style="width: 100%;">Dane Techniczne</button>
										<button class="btn btn-primary btn-sm btn-lg mb-1" style="width: 100%;">Zobacz w sklepie</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				}
			</div>

		</div>
		<div class="col-md-2">
			<AdBar></AdBar>
		</div>
	</div>
	<!-- Poprzednia i Nastepna strona-->
	<div class="text-center d-flex justify-content-center align-items-bottom">
		<button class="btn btn-secondary btn-lg mb-1 text-xl" style="width: 12%;">Poprzednia Strona</button>

		<ul class="pagination d-flex ml-3 mr-3">
			@for (int i = 1; i <= 87; i++)
			{
				@if (i <= 3 || i == 87)
				{
					<li class="page-item">
						<a class="page-link text-xl btn btn-light btn-lg" href="#">@i</a>
					</li>
				}
				else if (i == 4)
				{
					<li class="page-item disabled"><a class="page-link" href="#">...</a></li>
				}
			}
		</ul>

		<button class="btn btn-primary btn-lg mb-1 text-xl" style="width: 12%;">Następna Strona</button>
	</div>
</div>


@code {
	private bool showMoreBrands = false;
	private int brandCount = 3;

	private void ToggleShowMoreBrands()
	{
		showMoreBrands = !showMoreBrands;
	}


	private List<SmartphoneModel> Model { get; set; }

	protected override void OnInitialized()
	{
		// Inicjalizacja danych modelu - przykładowe smartfony
		Model = new List<SmartphoneModel>
		{
			new SmartphoneModel { Id = 1, Name = "Samsung Galaxy A5", Size = "5.5 inches", Cpu = "Snapdragon 855", System = "Android", Storage = "128 GB", Img = "https://picsum.photos/200/300", Price = 999.99m },
			new SmartphoneModel { Id = 2, Name = "Huawei 100", Size = "6.2 inches", Cpu = "Exynos 990", System = "Android", Storage = "256 GB", Img = "https://picsum.photos/200/300", Price = 1499.99m },
			new SmartphoneModel { Id = 3, Name = "Apple iPhone 14 Pro", Size = "6.4 inches", Cpu = "Apple A14 Bionic", System = "iOS", Storage = "64 GB", Img = "https://picsum.photos/200/300", Price = 1299.99m },
			new SmartphoneModel { Id = 4, Name = "Samsung Galaxy S21", Size = "6.1 inches", Cpu = "Snapdragon 888", System = "Android", Storage = "256 GB", Img = "https://picsum.photos/200/300", Price = 1399.99m },
			new SmartphoneModel { Id = 5, Name = "Samsung Galaxy S20", Size = "6.7 inches", Cpu = "Exynos 2100", System = "Android", Storage = "512 GB", Img = "https://picsum.photos/200/300", Price = 1799.99m },
			new SmartphoneModel { Id = 6, Name = "Huawei 5X", Size = "6.2 inches", Cpu = "Exynos 990", System = "Android", Storage = "256 GB", Img = "https://picsum.photos/200/300", Price = 1499.99m },
			new SmartphoneModel { Id = 7, Name = "Apple iPhone 13 Pro", Size = "6.4 inches", Cpu = "Apple A13 Bionic", System = "iOS", Storage = "64 GB", Img = "https://picsum.photos/200/300", Price = 1299.99m },
			new SmartphoneModel { Id = 8, Name = "Samsung Galaxy S11", Size = "6.1 inches", Cpu = "Snapdragon 777", System = "Android", Storage = "256 GB", Img = "https://picsum.photos/200/300", Price = 1399.99m },
			new SmartphoneModel { Id = 9, Name = "Samsung Galaxy A15", Size = "6.7 inches", Cpu = "Exynos 1900", System = "Android", Storage = "256 GB", Img = "https://picsum.photos/200/300", Price = 1799.99m }

			// Dodaj więcej smartfonów według potrzeb
        };
	}

	private IEnumerable<IEnumerable<SmartphoneModel>> Chunked(int size)
	{
		for (int i = 0; i < Model.Count; i += size)
		{
			yield return Model.Skip(i).Take(size);
		}
	}
}
